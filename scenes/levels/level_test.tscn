[gd_scene load_steps=18 format=4 uid="uid://3jgyt6k76jkp"]

[ext_resource type="Script" uid="uid://cbwboxrl1cgvs" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2d.gd" id="1_uh3ll"]
[ext_resource type="Script" uid="uid://rungv0ohy8m7" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="2_4lw2e"]
[ext_resource type="Script" uid="uid://b7xdnsaj5h3pb" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="3_bqmi1"]
[ext_resource type="Texture2D" uid="uid://bkmccy3oi4nq8" path="res://assets/tilesets/level_tileset.png" id="4_4lw2e"]
[ext_resource type="Texture2D" uid="uid://nfcevecicxfq" path="res://assets/tilesets/Ladder.png" id="5_bqmi1"]
[ext_resource type="PackedScene" uid="uid://b510na63oy3qi" path="res://scenes/player.tscn" id="5_es4qh"]
[ext_resource type="Texture2D" uid="uid://owhr0d3mr5lb" path="res://assets/sprites/laser_spikes_idle.png" id="6_bqmi1"]
[ext_resource type="PackedScene" uid="uid://jjuvch6rcsl4" path="res://scenes/enemies/drone.tscn" id="6_s0ovu"]
[ext_resource type="PackedScene" uid="uid://i1236ulu16x8" path="res://scenes/enemies/saw.tscn" id="9_8883n"]

[sub_resource type="Resource" id="Resource_nxmka"]
script = ExtResource("2_4lw2e")
duration = 1.0
transition = 0
ease = 2

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_8883n"]
texture = ExtResource("4_4lw2e")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/terrain_set = 0
0:0/0/terrain = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:0/0/terrains_peering_bit/right_side = 0
0:0/0/terrains_peering_bit/bottom_right_corner = 0
0:0/0/terrains_peering_bit/bottom_side = 0
1:0/0 = 0
1:0/0/terrain_set = 0
1:0/0/terrain = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:0/0/terrains_peering_bit/right_side = 0
1:0/0/terrains_peering_bit/bottom_right_corner = 0
1:0/0/terrains_peering_bit/bottom_side = 0
1:0/0/terrains_peering_bit/bottom_left_corner = 0
1:0/0/terrains_peering_bit/left_side = 0
2:0/0 = 0
2:0/0/terrain_set = 0
2:0/0/terrain = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:0/0/terrains_peering_bit/right_side = 0
2:0/0/terrains_peering_bit/bottom_right_corner = 0
2:0/0/terrains_peering_bit/bottom_side = 0
2:0/0/terrains_peering_bit/bottom_left_corner = 0
2:0/0/terrains_peering_bit/left_side = 0
3:0/0 = 0
3:0/0/terrain_set = 0
3:0/0/terrain = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:0/0/terrains_peering_bit/bottom_side = 0
3:0/0/terrains_peering_bit/bottom_left_corner = 0
3:0/0/terrains_peering_bit/left_side = 0
4:0/0 = 0
4:0/0/terrain_set = 0
4:0/0/terrain = 0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
4:0/0/terrains_peering_bit/bottom_side = 0
5:0/0 = 0
5:0/0/terrain_set = 0
5:0/0/terrain = 0
5:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
5:0/0/terrains_peering_bit/right_side = 0
6:0/0 = 0
6:0/0/terrain_set = 0
6:0/0/terrain = 0
6:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
6:0/0/terrains_peering_bit/right_side = 0
6:0/0/terrains_peering_bit/left_side = 0
7:0/0 = 0
7:0/0/terrain_set = 0
7:0/0/terrain = 0
7:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
7:0/0/terrains_peering_bit/left_side = 0
0:1/0 = 0
0:1/0/terrain_set = 0
0:1/0/terrain = 0
0:1/0/physics_layer_2/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:1/0/terrains_peering_bit/right_side = 0
0:1/0/terrains_peering_bit/bottom_right_corner = 0
0:1/0/terrains_peering_bit/bottom_side = 0
0:1/0/terrains_peering_bit/top_side = 0
0:1/0/terrains_peering_bit/top_right_corner = 0
1:1/0 = 0
1:1/0/terrain_set = 0
1:1/0/terrain = 0
1:1/0/physics_layer_2/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:1/0/terrains_peering_bit/right_side = 0
1:1/0/terrains_peering_bit/bottom_right_corner = 0
1:1/0/terrains_peering_bit/bottom_side = 0
1:1/0/terrains_peering_bit/bottom_left_corner = 0
1:1/0/terrains_peering_bit/left_side = 0
1:1/0/terrains_peering_bit/top_left_corner = 0
1:1/0/terrains_peering_bit/top_side = 0
1:1/0/terrains_peering_bit/top_right_corner = 0
2:1/0 = 0
2:1/0/terrain_set = 0
2:1/0/terrain = 0
2:1/0/physics_layer_2/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:1/0/terrains_peering_bit/right_side = 0
2:1/0/terrains_peering_bit/bottom_right_corner = 0
2:1/0/terrains_peering_bit/bottom_side = 0
2:1/0/terrains_peering_bit/bottom_left_corner = 0
2:1/0/terrains_peering_bit/left_side = 0
2:1/0/terrains_peering_bit/top_left_corner = 0
2:1/0/terrains_peering_bit/top_side = 0
2:1/0/terrains_peering_bit/top_right_corner = 0
3:1/0 = 0
3:1/0/terrain_set = 0
3:1/0/terrain = 0
3:1/0/physics_layer_2/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:1/0/terrains_peering_bit/bottom_side = 0
3:1/0/terrains_peering_bit/bottom_left_corner = 0
3:1/0/terrains_peering_bit/left_side = 0
3:1/0/terrains_peering_bit/top_left_corner = 0
3:1/0/terrains_peering_bit/top_side = 0
4:1/0 = 0
4:1/0/terrain_set = 0
4:1/0/terrain = 0
4:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
4:1/0/terrains_peering_bit/bottom_side = 0
4:1/0/terrains_peering_bit/top_side = 0
5:1/0 = 0
5:1/0/terrain_set = 0
5:1/0/terrain = 0
5:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
6:1/0 = 0
7:1/0 = 0
0:2/0 = 0
0:2/0/terrain_set = 0
0:2/0/terrain = 0
0:2/0/physics_layer_2/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:2/0/terrains_peering_bit/right_side = 0
0:2/0/terrains_peering_bit/bottom_right_corner = 0
0:2/0/terrains_peering_bit/bottom_side = 0
0:2/0/terrains_peering_bit/top_side = 0
0:2/0/terrains_peering_bit/top_right_corner = 0
1:2/0 = 0
1:2/0/terrain_set = 0
1:2/0/terrain = 0
1:2/0/physics_layer_2/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:2/0/terrains_peering_bit/right_side = 0
1:2/0/terrains_peering_bit/bottom_right_corner = 0
1:2/0/terrains_peering_bit/bottom_side = 0
1:2/0/terrains_peering_bit/bottom_left_corner = 0
1:2/0/terrains_peering_bit/left_side = 0
1:2/0/terrains_peering_bit/top_left_corner = 0
1:2/0/terrains_peering_bit/top_side = 0
1:2/0/terrains_peering_bit/top_right_corner = 0
2:2/0 = 0
2:2/0/terrain_set = 0
2:2/0/terrain = 0
2:2/0/physics_layer_2/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:2/0/terrains_peering_bit/right_side = 0
2:2/0/terrains_peering_bit/bottom_right_corner = 0
2:2/0/terrains_peering_bit/bottom_side = 0
2:2/0/terrains_peering_bit/bottom_left_corner = 0
2:2/0/terrains_peering_bit/left_side = 0
2:2/0/terrains_peering_bit/top_left_corner = 0
2:2/0/terrains_peering_bit/top_side = 0
2:2/0/terrains_peering_bit/top_right_corner = 0
3:2/0 = 0
3:2/0/terrain_set = 0
3:2/0/terrain = 0
3:2/0/physics_layer_2/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:2/0/terrains_peering_bit/bottom_side = 0
3:2/0/terrains_peering_bit/bottom_left_corner = 0
3:2/0/terrains_peering_bit/left_side = 0
3:2/0/terrains_peering_bit/top_left_corner = 0
3:2/0/terrains_peering_bit/top_side = 0
4:2/0 = 0
4:2/0/terrain_set = 0
4:2/0/terrain = 0
4:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
4:2/0/terrains_peering_bit/top_side = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
0:3/0 = 0
0:3/0/terrain_set = 0
0:3/0/terrain = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:3/0/terrains_peering_bit/right_side = 0
0:3/0/terrains_peering_bit/top_side = 0
0:3/0/terrains_peering_bit/top_right_corner = 0
1:3/0 = 0
1:3/0/terrain_set = 0
1:3/0/terrain = 0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:3/0/terrains_peering_bit/right_side = 0
1:3/0/terrains_peering_bit/left_side = 0
1:3/0/terrains_peering_bit/top_left_corner = 0
1:3/0/terrains_peering_bit/top_side = 0
1:3/0/terrains_peering_bit/top_right_corner = 0
2:3/0 = 0
2:3/0/terrain_set = 0
2:3/0/terrain = 0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:3/0/terrains_peering_bit/right_side = 0
2:3/0/terrains_peering_bit/left_side = 0
2:3/0/terrains_peering_bit/top_left_corner = 0
2:3/0/terrains_peering_bit/top_side = 0
2:3/0/terrains_peering_bit/top_right_corner = 0
3:3/0 = 0
3:3/0/terrain_set = 0
3:3/0/terrain = 0
3:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:3/0/terrains_peering_bit/left_side = 0
3:3/0/terrains_peering_bit/top_left_corner = 0
3:3/0/terrains_peering_bit/top_side = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
4:5/0 = 0
5:5/0 = 0
6:5/0 = 0
7:5/0 = 0
8:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
5:6/0 = 0
6:6/0 = 0
7:6/0 = 0
8:6/0 = 0
0:7/0 = 0
1:7/0 = 0
2:7/0 = 0
3:7/0 = 0
4:7/0 = 0
5:7/0 = 0
6:7/0 = 0
7:7/0 = 0
8:7/0 = 0
2:8/0 = 0
3:8/0 = 0
4:8/0 = 0
5:8/0 = 0
6:8/0 = 0
7:8/0 = 0
8:8/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_es4qh"]
texture = ExtResource("5_bqmi1")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/terrain_set = 0
0:0/0/terrain = 2
0:0/0/physics_layer_3/polygon_0/points = PackedVector2Array(-6.05398, -16, 5.09809, -16, 4.46083, 16, -5.73535, 16)
0:0/0/terrains_peering_bit/bottom_side = 2
0:0/0/terrains_peering_bit/top_side = 2
0:0/0/custom_data_0 = true
0:1/0 = 0
0:1/0/terrain_set = 0
0:1/0/terrain = 2
0:1/0/physics_layer_3/polygon_0/points = PackedVector2Array(-6.05398, -16, 5.09809, -16, 4.46083, 16, -5.73535, 16)
0:1/0/terrains_peering_bit/bottom_side = 2
0:1/0/custom_data_0 = true

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_s0ovu"]
texture = ExtResource("6_bqmi1")
texture_region_size = Vector2i(32, 32)
0:0/animation_speed = 1.5
0:0/animation_frame_0/duration = 0.1
0:0/animation_frame_1/duration = 0.1
0:0/animation_frame_2/duration = 0.1
0:0/animation_frame_3/duration = 0.1
0:0/animation_frame_4/duration = 0.1
0:0/animation_frame_5/duration = 0.1
0:0/animation_frame_6/duration = 0.1
0:0/animation_frame_7/duration = 0.1
0:0/animation_frame_8/duration = 0.1
0:0/animation_frame_9/duration = 0.1
0:0/0 = 0
0:0/0/terrain_set = 0
0:0/0/terrain = 1
0:0/0/physics_layer_1/polygon_0/points = PackedVector2Array(-16, 2.54905, 16, 1.91179, 16, 16, -16, 16)
0:0/0/custom_data_1 = true

[sub_resource type="TileSet" id="TileSet_ycf23"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 1
physics_layer_1/collision_layer = 2
physics_layer_2/collision_layer = 4
physics_layer_3/collision_layer = 8
physics_layer_3/collision_mask = 0
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "Ground"
terrain_set_0/terrain_0/color = Color(0.479083, 0.782599, 0.895998, 1)
terrain_set_0/terrain_1/name = "Spikes"
terrain_set_0/terrain_1/color = Color(0.825539, 0, 0.209231, 1)
terrain_set_0/terrain_2/name = "Ladder"
terrain_set_0/terrain_2/color = Color(0.868948, 0.535725, 0.212602, 1)
custom_data_layer_0/name = "is_ladder"
custom_data_layer_0/type = 1
custom_data_layer_1/name = "is_damage"
custom_data_layer_1/type = 1
sources/1 = SubResource("TileSetAtlasSource_8883n")
sources/2 = SubResource("TileSetAtlasSource_es4qh")
sources/3 = SubResource("TileSetAtlasSource_s0ovu")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bc127"]
size = Vector2(826, 556)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_dl0q5"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_eanp0"]

[node name="Node2D" type="Node2D"]

[node name="Camera" type="Node" parent="."]

[node name="PhantomCamera2D" type="Node2D" parent="Camera" node_paths=PackedStringArray("follow_target")]
top_level = true
position = Vector2(-78, -48)
script = ExtResource("1_uh3ll")
follow_mode = 5
follow_target = NodePath("../../Player")
tween_resource = SubResource("Resource_nxmka")
follow_offset = Vector2(0, -64)
dead_zone_width = 0.1
dead_zone_height = 0.25
draw_limits = true
limit_target = NodePath("../../World/CameraBounds/Shape")
metadata/_custom_type_script = "uid://cbwboxrl1cgvs"

[node name="Camera2D" type="Camera2D" parent="Camera"]
physics_interpolation_mode = 1
position = Vector2(-78, -48)
process_callback = 0
limit_left = -398
limit_top = -424
limit_right = 428
limit_bottom = 132

[node name="PhantomCameraHost" type="Node" parent="Camera/Camera2D"]
process_priority = 300
process_physics_priority = 300
script = ExtResource("3_bqmi1")
metadata/_custom_type_script = "uid://b7xdnsaj5h3pb"

[node name="World" type="Node" parent="."]

[node name="TileMapLayer" type="TileMapLayer" parent="World"]
z_index = -10
tile_map_data = PackedByteArray("AAD+/wIAAQAAAAAAAAD//wIAAQABAAAAAAAAAAIAAQABAAAAAAABAAIAAQACAAAAAAACAAIAAQABAAAAAAADAAIAAQABAAAAAAAEAAIAAQABAAAAAAAFAAIAAQABAAAAAAAGAAIAAQADAAAAAAABAAMAAQACAAIAAAACAAMAAQACAAEAAAADAAMAAQABAAIAAAAEAAMAAQABAAEAAAAFAAMAAQACAAEAAAAAAAMAAQACAAEAAAD//wMAAQACAAIAAAD+/wMAAQACAAIAAAAGAAMAAQADAAIAAAD//wQAAQACAAMAAAD+/wQAAQACAAMAAAAAAAQAAQACAAMAAAABAAQAAQABAAMAAAACAAQAAQACAAMAAAADAAQAAQACAAMAAAAEAAQAAQACAAMAAAAFAAQAAQACAAMAAAAGAAQAAQADAAMAAAD4/wIAAQABAAAAAAD3/wIAAQACAAAAAAD2/wIAAQACAAAAAAD2/wMAAQABAAEAAAD3/wMAAQABAAEAAAD4/wMAAQACAAEAAAD5/wMAAQABAAIAAAD6/wMAAQACAAIAAAD7/wMAAQABAAAAAAD8/wMAAQABAAAAAAD9/wMAAQABAAAAAAD9/wQAAQABAAMAAAD8/wQAAQACAAMAAAD7/wQAAQABAAMAAAD6/wQAAQABAAMAAAD5/wQAAQABAAMAAAD4/wQAAQACAAMAAAD3/wQAAQABAAMAAAD2/wQAAQABAAMAAAD5/wIAAQABAAAAAAD6/wIAAQADAAAAAAD7/wIAAwAAAAAAAAD8/wIAAwAAAAAAAAD9/wIAAwAAAAAAAAD3/wEAAgAAAAAAAAD3/wAAAgAAAAAAAAD3////AgAAAAEAAAD1//7/AQADAAAAAAD1////AQADAAEAAAD1/wAAAQADAAEAAAD1/wEAAQADAAEAAAD1/wIAAQABAAEAAAD1/wMAAQACAAIAAAD0//7/AQABAAAAAAD0////AQABAAIAAAD0/wAAAQABAAEAAAD0/wEAAQACAAIAAAD0/wIAAQACAAEAAAD0/wMAAQACAAIAAADz//7/AQAAAAAAAADz////AQAAAAEAAADz/wAAAQAAAAEAAADz/wEAAQAAAAEAAADz/wIAAQAAAAIAAADz/wMAAQAAAAIAAADz/wQAAQAAAAMAAAD0/wQAAQACAAMAAAD1/wQAAQABAAMAAAD5//7/AQAFAAEAAAD8//3/AQAFAAEAAAD///z/AQAFAAEAAAACAP3/AQAFAAEAAAADAP7/AQAFAAEAAAA=")
tile_set = SubResource("TileSet_ycf23")

[node name="CameraBounds" type="Area2D" parent="World"]

[node name="Shape" type="CollisionShape2D" parent="World/CameraBounds"]
position = Vector2(15, -146)
shape = SubResource("RectangleShape2D_bc127")
debug_color = Color(0, 0.6, 0.701961, 0)

[node name="WorldBoundary" type="StaticBody2D" parent="World"]

[node name="Left" type="CollisionShape2D" parent="World/WorldBoundary"]
position = Vector2(-399, 0)
rotation = 1.5708
shape = SubResource("WorldBoundaryShape2D_dl0q5")

[node name="Right" type="CollisionShape2D" parent="World/WorldBoundary"]
position = Vector2(430, 0)
rotation = -1.5708
shape = SubResource("WorldBoundaryShape2D_eanp0")

[node name="Player" parent="." instance=ExtResource("5_es4qh")]
position = Vector2(-201, 23)
climb_speed = 75.0

[node name="Drone" parent="." instance=ExtResource("6_s0ovu")]
position = Vector2(63, -3)
speed = 0.5

[node name="Saw" parent="." instance=ExtResource("9_8883n")]
position = Vector2(63, 64)
